@using KM.BackOffice.Application.ViewModels
@model List<UserViewModel>
<div class="">
    <div class="d-flex">
        <div class="col" style="font-size:20px; font-weight:700;">
            จัดการผู้ใช้งาน
        </div>
        <div class="col d-flex justify-content-end">
            <button class="btn-light" data-bs-toggle="offcanvas" href="#createUserPanel" role="button" aria-controls="createUserPanel">
                เพิ่มข้อมูล
            </button>
        </div>
    </div>
    <div class="d-flex pt-2">
        <table class="table table-striped table-bordered table-hover">
            <thead class="thead-dark">
                <tr>
                    <th scope="col" class="text-center">#</th>
                    <th scope="col">ชื่อ</th>
                    <th scope="col">สกุล</th>
                    <th scope="col">ชื่อผู้ใช้</th>
                    <th scope="col">อีเมลล์</th>
                    <th scope="col" class="text-center">สถานะ</th>
                    <th scope="col" class="text-center">เครื่องมือ</th>
                </tr>
            </thead>
            <tbody>
                @{
                    int index = 1;
                }
                @foreach (var user in Model)
                {
                    <tr>
                        <td class="text-center">@index</td>
                        <td>@user.FirstName</td>
                        <td>@user.LastName</td>
                        <td>@user.Username</td>
                        <td>@user.Email</td>
                        <td class="align-middle">
                            <div class="d-flex justify-content-center">

                                @if (user.IsActive == true)
                                {
                                    <span class="badge bg-success">Active</span>
                                }
                                else
                                {
                                    <span class="badge bg-danger">Inactive</span>
                                }
                            </div>
                        </td>
                        <td class="align-middle">
                            <div class="d-flex justify-content-center">
                                <button class="btn-light" data-bs-toggle="offcanvas" href="#updateUserPanel" role="button" aria-controls="updateUserPanel">
                                    <span><i class="bi bi-pencil-square"></i></span>
                                </button>
                                <button class="btn-light">
                                    <span><i class="bi bi-trash"></i></span>
                                </button>
                            </div>
                        </td>
                    </tr>
                    index++;
                }
            </tbody>
        </table>

    </div>
</div>
@await Html.PartialAsync("_CreatePanel.cshtml")
@await Html.PartialAsync("_UpdatePanel.cshtml")
